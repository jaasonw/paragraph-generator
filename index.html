<!doctype html>
<html>
    <head>
        <meta http-equiv="x-ua-compatible" content="IE=edge">
        <!-- jquery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="src/ParagraphGenerator.js"></script>
        <script>
            $(document).ready(function () {
                var gen = new ParagraphGenerator("", Gender.Other, "src/sentences.json", "src/problem_treatments.json");
                // add problem type selection
                var problems = gen.getProblemTypes();
                for (var i = 0; i < problems.length; i++) {
                    $(".problems").append("<option></option>").val(problems[i]).html(problems[i])
                }
                $("#form").submit(function(event) {
                    event.preventDefault();
                    var data = $("#form").serializeArray();
                    var name = data[0].value;
                    var gender = (data[1].value == "male") ? Gender.Male : Gender.Female;
                    var problem1 = data[3].value;
                    var problem2 = data[4].value;
                    
                    gen.updateName(name);
                    gen.updateGender(gender);
                    
                    $("#paragraph").val(gen.generateParagraph(problem1, problem2));
                });
            });
        </script>
    </head>

<body>
    <h2>not scuffed</h2>

    <form id = "form">
        <input type="text" name="name" value="">
        <br>
        <input type="radio" name="gender" value="male" checked> Male<br>
        <input type="radio" name="gender" value="female"> Female<br>

        Problem 1:
        <select class = "problems" name="problem1">
            <option value="" selected>Any</option>
        </select>
        <br>
        Problem 2:
        <select class = "problems" name="problem2">
            <option value="" selected>Any</option>
        </select>
        <br>
        <input type="submit" value="Submit">
    </form>

    <textarea id = "paragraph" rows="20" cols="100"></textarea>

</body>
</html>